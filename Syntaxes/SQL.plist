{
	name = "SQL";
	scopeName = "source.sql";
	uuid = "C49120AC-6ECC-11D9-ACC8-000D93589AF6";
	fileTypes = ( sql, ddl, dml );

	foldingStartMarker = "\\s*\\(\\s*$";
	foldingStopMarker = "^\\s*\\)";
	increaseIndentPattern = "^\\s*(create|grant|insert|delete|update)\\s*";
 	smartTypingPairs = (
    	( "(", ")" ), ( "[", "]" ), ( "{", "}" ), ( "\"", "\"" ), ( "'", "'" )
	);
	highlightPairs = (
		( "(", ")" ), ( "[", "]" ), ( "{", "}" )
	);

	foregroundColor = "#000000";
	backgroundColor = "#eeeeee";

	patterns = (
		{ name = "keyword.sql.DDL.create"; foregroundColor = "#66CC33"; match = "^\\s*create\\s+(table|(unique\\s+)?index|view)\\s+"; },

		{ name = "keyword.sql.DDL.create.II"; foregroundColor = "#66CC33"; match = "\\s+(on\\s+|(not\\s+)?null)\\s*"; },

		{ name = "keyword.sql.DDL.drop"; foregroundColor = "#dd7733"; match = "^\\s*drop\\s+(table|index|view)"; },

		{ name = "keyword.sql.DDL.drop.II"; "foregroundColor[1]" = "#dd7733"; "foregroundColor[2]" = "#dd7733"; match = "\\s*(drop\\s+table)\\s+\\w+(\\s+cascade)?\\s*"; },
		
		{ name = "keyword.sql.DDL.alter"; foregroundColor = "#997733"; match = "^\\s*alter\\s+(table|index|view)\\s+"; },

		{ name = "keyword.sql.DML"; foregroundColor = "#CC7833"; match = "^\\s*(select(\\s+distinct)?|insert\\s+into|update|delete|from|where|group\\sby|and|union(\\s+all)?|having|order\\sby)\\b"; },

		{ name = "keyword.sql.DML.II"; foregroundColor = "#CC7833"; match = "\\s+values\\s+"; },

		{ name = "keyword.sql.LUW"; foregroundColor = "#CC38CC"; match = "(begin(\\s+work)?|commit(\\s+work)?|rollback(\\s+work)?)"; 	},

		{ name = "keyword.authorization.sql"; foregroundColor = "#CC7833"; match = "(grant(\\swith\\sgrant\\soption)?|revoke)"; },

		{ name = "keyword.storage.sql"; "foregroundColor[1]" = "#CCBA33"; match = "^\\s*\\w+\\s+(bigint|bigserial|bit|bit\\svarying\\(\\d+\\)|boolean|box|bytea|character\\s(varying)?\\(\\d+\\)|char\\(\\d+\\)|var\\schar\\(\\d+\\)|cidr|circle|date|double\\sprecision|inet|
int|integer|interval\\(\\d+\\)|line|lseg|macaddr|money|numeric(\\(\\d+,\\d+\\))?|oid|path|point|polygon|real|smallint|serial|text|time\s(\\(\\d+\\))(\\swithout\stime\szone)?|timestamp(\s(\\(\\d+\\))(\\swithout\stime\szone)?)?|varchar\\(\\d+\\))\\s*";	},

		{ name = "keyword.data-integrity.sql"; foregroundColor = "#01babe"; match = "\\s+(primary\\s+key|references|on\\sdelete(\\s+cascade)?|check)\\s*"; },

		{ name = "keyword.data-integrity.sql.II"; foregroundColor = "#01babe"; match = "\\s+in\\s+"; },
	
		{ name = "string.single-quoted.sql"; foregroundColor = "#669966"; begin = "'"; end = "'"; swallow = "\\\\."; },

		{ name = "keyword.object-comments.sql"; "foregroundColor[1]" = "#6699cc"; "foregroundColor[3]" = "#6699cc"; match = "^\\s*(comment\\s+on\\s+(table|column|aggregate|constraint|database|domain|function|index|operator|rule|schema|sequence|trigger|type|view))\\s+.*?\\s
+(is)\\s+"; },

		{ name = "comment.line.sql"; foregroundColor = "#9933CC"; match = "--.*$"; },

 		{ name = "string.double-quoted.sql"; begin = "\""; end = "\"";  foregroundColor = "#66CC33";
			patterns = (
        		{ name = "string.interpolation.sql"; match = "#\\{([^\\}]*)\\}"; foregroundColor = "#aaaaaa"; }
			);
		},
		{ name = "string.double-quoted.sql"; begin = "%\\{"; end = "\\}";  foregroundColor = "#66CC33";
			patterns = (
				{ name = "string.interpolation.sql"; match = "#\\{([^\\}]*)\\}"; foregroundColor = "#aaaaaa"; }
			);
		},
		{ name = "string.regex.sql"; begin = "/(?=\\S.*/)"; end = "/";  foregroundColor = "#CCCC33";
			patterns = (
				{ name = "string.interpolation.sql"; match = "#\\{([^\\}]*)\\}"; foregroundColor = "#aaaaaa"; },
				{ name = "string.escaped-slash.sql"; match = "\\\\/"; foregroundColor = "#CCCC33"; }
			);
		},
		{ name = "string.regex.modr.sql"; begin = "%r\\{"; end = "\\}";  foregroundColor = "#CCCC33";
			patterns = (
				{ name = "string.interpolation.sql"; match = "#\\{([^\\}]*)\\}"; foregroundColor = "#aaaaaa"; },
				{ name = "string.escaped-slash.sql"; match = "\\\\/"; foregroundColor = "#CCCC33"; }
			);
		},
	);
}
